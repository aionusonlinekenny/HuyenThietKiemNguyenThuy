-- Author: Kinnox
-- Date: 12/04/2022
-- Chuc nang: Hoa dang lib
Include("\\script\\system_config.lua");

NPCPOS_HOADANG = {
[2] = {
	{74688,109888},
	{74464,109920},
	{74656,110208},
	{75072,110144},
	{74944,110336},
	{74944,110560},
	{75072,110560},
	{75680,109856},
	{75328,110048},
	{75552,110080},
	{75456,110336},
	{75264,110496},
	{76256,109824},
	{76000,109920},
	{77952,110496},
	{76224,111552},
	{77376,110944},
	{77344,111520},
	{78112,111040},
	{79744,111008},
	{80032,111424},
	{80576,110880},
	{80608,111296},
	{80960,110816},
	{81184,110976},
	{81056,111296},
	{75008,112160},
	{75360,111616},
	{75328,112064},
	{76768,112256},
	{76832,111680},
	{76928,112576},
	{77760,112320},
	{77824,111840},
	{79552,112384},
	{80224,111968},
	{79936,112320},
	{80512,111744},
	{80800,112224},
	{81408,112096},
	{83040,112032},
	{83296,112064},
	{83200,112160},
	{83008,112256},
	{83392,112256},
	{83296,112288},
	{83200,112352},
	{83232,112576},
	{83360,112576},
	{83744,111904},
	{83584,111936},
	{83456,112032},
	{83680,112128},
	{83552,112192},
	{75456,112672},
	{75712,113248},
	{76480,112672},
	{76832,113184},
	{77536,112768},
	{77664,113248},
	{79584,112736},
	{79424,113120},
	{80288,112640},
	{80736,112992},
	{83232,113024},
	{83392,113408},
	{75680,113888},
	{75488,114464},
	{76768,114400},
	{77120,113952},
	{77536,113696},
	{77728,114624},
	{77920,113952},
	{78784,114656},
	{79232,113760},
	{80640,113728},
	{80832,114304},
	{75072,114912},
	{75392,115424},
	{75872,115360},
	{76576,115520},
	{76800,115104},
	{77728,115328},
	{77376,115392},
	{78176,114880},
	{78528,114720},
	{79168,114848},
	{79552,115104},
	{80224,115200},
	{79872,115680},
	{80608,114752},
	{80768,115360},
	{83424,115264},
	{83072,115648},
	{75584,115936},
	{76192,115776},
	{76672,116032},
	{76672,116512},
	{77024,115904},
	{77536,115776},
	{77760,116256},
	{79328,116608},
	{79648,116352},
	{80032,116352},
	{80256,116672},
	{80768,116320},
	{81024,115808},
	{81472,115776},
	{81760,116160},
	{82208,116384},
	{81984,116704},
	{82752,116224},
	{82496,116704},
	{83168,116384},
	{76896,116768},
	{76960,117216},
	{77792,117344},
	{77888,116736},
	{79104,116928},
	{78912,117536},
	{79744,117664},
	{79904,117120},
	{80640,117216},
	{80896,117696},
	{81568,116736},
	{81472,117280},
	{82752,117152},
	{82688,117696},
	{83488,116768},
	{76256,118560},
	{76768,118496},
	{76992,117824},
	{77216,118592},
	{77696,117888},
	{78080,118336},
	{78496,118208},
	{79104,118112},
	{79584,118368},
	{80768,118400},
	{81312,117792},
	{81632,118144},
	{82080,118528},
	{82560,118368},
	{76096,119616},
	{76384,118912},
	{76480,119648},
	{76896,119264},
	{77472,119264},
	{77728,119680},
	{77920,119552},
	{78272,119584},
	{79616,119200},
	{80352,119520},
	{80032,119584},
	{80384,118816},
	{80672,119200},
	{81792,118944},
	{82208,119104},
	{82496,118944},
	{75520,120256},
	{75616,120768},
	{76160,120128},
	{76928,120192},
	{76960,120768},
	{78080,120032},
	{78080,120480},
	{78688,119936},
	{79136,119840},
	{80096,120352},
	{80832,120000},
	{81536,120128},
	{81952,120672},
	{82432,119840},
	{82720,120544},
	{73984,121600},
	{74304,121312},
	{74688,121728},
	{75168,120928},
	{75008,121440},
	{75904,121312},
	{78944,121664},
	{79584,121440},
	{80288,121472},
	{79968,121824},
	{82400,121024},
	{82752,121600},
	{74880,122624},
	{75840,122080},
	{75936,122816},
	{77024,121984},
	{77600,122080},
	{77312,122720},
	{78048,122016},
	{78592,121952},
	{79808,122816},
	{80800,121920},
	{81120,122080},
	{81472,122816},
	{82880,122176},
	{74592,123488},
	{74784,123104},
	{76032,123424},
	{76480,123360},
	{76960,123232},
	{77600,123328},
	{78144,123680},
	{80096,123296},
	{80736,122912},
	{80864,123648},
	{81824,123104},
	{82304,123552},
	{82688,122880},
	{74464,123968},
	{75232,124384},
	{74848,124672},
	{80128,124192},
	{80032,124736},
	{80448,124320},
	{81088,124512},
	{82464,123936},
	{82752,124608},
	{74624,125184},
	{74464,125696},
	{76256,125888},
	{76864,125792},
	{77280,125856},
	{79296,125312},
	{78944,125568},
	{79648,124992},
	{79904,125248},
	{79936,125824},
	{81312,125376},
	{83008,125152},
	{83392,125888},
	{75552,126560},
	{77696,126528},
	{78688,126016},
	{78336,126592},
	{78880,126912},
	{79488,126784},
	{79872,126432},
	{81248,126304},
	{81696,126784},
	{83296,126688},
	{74688,127872},
	{75008,127744},
	{75264,127264},
	{77056,127200},
	{76832,127296},
	{76864,127936},
	{78240,127616},
	{77920,127648},
	{79328,127808},
	{80256,127616},
	{80512,126976},
	{81856,127808},
	{82336,127936},
	{83200,127328},
	{74912,128384},
	{74816,128480},
	{75936,128544},
	{76832,128512},
	{77184,128928},
	{78016,128320},
	{81696,128832},
	{82144,128384},
	{82688,128032},
	{82432,128672},
	{74432,129536},
	{75360,129440},
	{76032,129184},
	{75936,129632},
	{76672,129120},
	{77728,129152},
	{77696,129728},
	{77984,129504},
	{78368,129088},
	{78912,129600},
	{79968,129568},
	{80256,129664},
	{80800,129664},
	{81344,129120},
	{81024,129472},
	{81472,129120},
	{73280,130784},
	{73728,131040},
	{74304,130400},
},

[27] = {
	{72352,108480},
	{72448,108512},
	{72352,108800},
	{72416,109184},
	{72544,108960},
	{72672,108640},
	{73024,108928},
	{72896,109280},
	{72800,109536},
	{72576,109792},
	{72992,110016},
	{73376,110272},
	{73760,110848},
	{74336,110336},
	{74432,109760},
	{74144,109408},
	{73376,109216},
	{75168,110272},
	{75456,109888},
	{75616,110432},
	{76064,110400},
	{76256,110944},
	{76672,110816},
	{76672,111296},
	{77088,111392},
	{77248,111904},
	{77568,111680},
	{77728,112096},
	{78048,111808},
	{78016,112512},
	{78528,112288},
	{78656,112768},
	{79072,112512},
	{79456,112064},
	{79648,111616},
	{80064,111616},
	{80320,111136},
	{80896,110976},
	{81344,110720},
	{81312,110176},
	{81504,109472},
	{81664,108864},
	{81952,108640},
	{82016,108096},
	{82400,107712},
	{82368,107168},
	{82240,106880},
	{82688,106912},
	{82912,107072},
	{83136,106688},
	{83424,106112},
	{83072,105760},
	{83168,105376},
	{82880,105344},
	{82464,105344},
	{82464,104832},
	{82144,104608},
	{82176,104000},
	{81920,104448},
	{81632,104768},
	{81504,104160},
	{81184,103840},
	{80928,103904},
	{80960,104256},
	{80576,104256},
	{80832,104480},
	{80640,104672},
	{80480,104832},
	{80768,104896},
	{81024,104960},
	{80864,105280},
	{81120,105472},
	{81344,105504},
	{81312,105216},
	{81312,104960},
	{81792,105856},
	{81952,106016},
	{81888,106432},
	{82272,106656},
	{82368,106912},
	{79328,113184},
	{79520,113312},
	{79424,113760},
	{79744,113888},
	{79680,114272},
	{80064,114592},
	{79712,114720},
	{79328,114944},
	{79200,114944},
	{79040,115232},
	{78720,115392},
	{78592,115808},
	{78208,115904},
	{78112,116352},
	{77888,116640},
	{77568,116896},
	{77568,117216},
	{77216,117184},
	{77216,117600},
	{76896,117824},
	{76864,118336},
	{76544,118144},
	{76384,118592},
	{76064,118656},
	{76064,119232},
	{75904,119296},
	{76032,119744},
	{75680,120064},
	{75712,120480},
	{76096,120448},
	{76512,120832},
	{76928,121120},
	{77440,121376},
	{77696,121664},
	{78080,121568},
	{78368,121984},
	{78592,122656},
	{78816,123360},
	{78688,123872},
	{79072,124320},
	{78752,124896},
	{78272,125056},
	{78016,125376},
	{78016,125888},
	{77632,125856},
	{77600,126240},
	{77184,126336},
	{76928,126752},
	{76544,126592},
	{76320,127040},
	{76032,127648},
	{75744,127936},
	{75488,128096},
	{75680,128512},
	{76032,128352},
	{76032,129088},
	{76320,129344},
	{76672,129696},
	{76992,130112},
	{77408,129952},
	{77632,130464},
	{78048,130272},
	{78272,130112},
	{78560,130272},
	{78720,129792},
	{78912,129952},
	{79104,129664},
	{79456,129792},
	{79520,129312},
	{79904,129248},
	{80192,129056},
	{80448,129024},
	{80736,128832},
	{80704,128448},
	{81056,128320},
	{81344,128448},
	{81344,128000},
	{81344,127552},
	{81696,127680},
	{81920,127456},
	{82208,127904},
	{82592,128096},
	{82976,128128},
	{83488,128384},
	{83904,128416},
	{84384,128480},
	{84608,128096},
	{85088,128000},
	{85504,127616},
	{86016,127776},
	{86496,127328},
	{87072,126912},
	{86784,126432},
	{87520,126880},
	{87840,127232},
	{88128,126784},
	{88288,127584},
	{88608,127904},
	{88576,128800},
	{89120,128800},
	{89184,128416},
	{88864,129568},
	{88800,130272},
	{88704,131168},
	{88672,131808},
	{88384,132160},
	{88032,132416},
	{88032,133120},
	{87776,132864},
	{87744,133600},
	{87584,134144},
	{87136,134656},
	{86848,134592},
	{86720,135360},
	{86400,135584},
	{86304,136352},
	{86016,136736},
	{85984,137216},
	{85632,137344},
	{85184,137824},
	{84864,138176},
	{84864,138688},
	{84704,138976},
	{84448,138464},
	{84288,139104},
	{84032,139392},
	{84192,139712},
	{83776,139776},
	{83424,139776},
	{83104,140448},
	{82976,140064},
	{83104,141472},
	{83328,141952},
	{83392,142464},
	{82432,139712},
	{82336,139200},
	{81952,139072},
	{81984,138656},
	{81440,138432},
	{81184,137888},
	{81056,137440},
	{81312,136960},
	{80960,136800},
	{80768,136128},
	{80512,135648},
	{80768,135136},
	{80448,134592},
	{81056,134464},
	{81280,134048},
	{80800,134176},
	{80000,134944},
	{79776,134016},
	{79520,133376},
	{79008,132992},
	{78432,132960},
	{78048,132224},
	{77856,131552},
	{77760,130784},
	{77792,130272},
	{81600,126752},
	{81792,126432},
	{81440,126208},
	{81664,125760},
	{81344,125280},
	{81632,124352},
	{82080,123840},
	{82528,123552},
	{82976,123200},
	{83424,122912},
	{84032,122496},
	{84576,122016},
	{84992,122240},
	{85376,121664},
	{85568,122400},
	{85984,122752},
	{86176,123392},
	{86624,123872},
	{86816,124448},
	{87552,124160},
	{88096,124192},
	{88288,123616},
	{88736,123584},
	{89216,123424},
	{89568,123072},
	{89920,123584},
	{90432,123616},
	{90816,124160},
	{91136,124384},
	{85600,121344},
	{86016,120800},
	{86560,120544},
	{87296,120864},
	{87936,120736},
	{88480,120192},
	{88928,119584},
	{89472,119488},
	{89344,118784},
	{89952,119296},
	{90304,119264},
	{90240,118432},
	{90752,118592},
	{90976,118880},
	{91360,119104},
	{91456,119488},
	{91776,119904},
	{91904,120416},
	{91584,120864},
	{91264,120800},
	{90880,121216},
	{90304,121152},
	{92608,119648},
	{92608,119200},
	{92864,119168},
	{92768,118816},
	{92928,118624},
	{93120,118208},
	{92864,118304},
	{92736,118208},
	{92384,117920},
	{92096,117664},
	{92000,117408},
	{92128,117088},
	{92000,117024},
	{92128,116640},
	{91648,116864},
	{91584,116448},
	{91680,116096},
	{91296,116768},
	{91552,117184},
	{91936,117184},
	{91296,117408},
	{91040,117248},
	{90816,117696},
	{90624,118016},
	{90560,118400},
	{90368,117824},
	{90176,118624},
	{75392,120448},
	{75136,120608},
	{74720,120896},
	{74400,120768},
	{74080,121248},
	{73600,121248},
	{73472,121760},
	{72992,121664},
	{72864,122144},
	{72992,122528},
	{72640,122944},
	{72800,123456},
	{73024,123968},
	{72768,124384},
	{72832,124928},
	{72352,125184},
	{72480,121696},
	{72224,121408},
	{72096,121088},
	{71424,120928},
	{71168,120512},
	{70848,120288},
	{70336,120320},
	{70208,119968},
	{69824,119904},
	{69472,119424},
	{68992,119392},
	{68704,118944},
	{68448,118080},
	{68192,117152},
	{67584,116640},
	{67104,115872},
	{66432,115584},
	{65888,115232},
	{65472,115488},
	{65024,116000},
	{64832,116736},
	{64768,117536},
	{64864,118112},
	{64384,118592},
	{64128,119168},
	{64128,119712},
	{64416,120320},
	{64896,120768},
	{65440,121184},
	{66080,121408},
	{66656,121376},
	{67104,121024},
	{67488,120512},
	{68032,120320},
	{68064,120064},
	{68544,119424},
	{63680,120000},
	{63392,120576},
	{63072,120640},
	{62816,121248},
	{62432,121280},
	{61888,121760},
	{61280,122080},
	{60704,122208},
	{60224,121312},
	{60256,120864},
	{60096,120256},
	{60192,119680},
	{59968,118496},
	{60256,117728},
	{60704,117280},
	{60960,116544},
	{61568,116128},
	{61920,115424},
	{62464,115104},
	{62240,114592},
	{62624,114304},
	{62432,113760},
	{63136,113344},
	{62720,112896},
	{61920,112320},
	{62272,112416},
	{62272,112000},
	{62592,111904},
	{62688,112320},
	{62944,112576},
	{62976,112960},
	{62624,112480},
	{62432,112544},
	{63168,113440},
	{62496,114048},
	{62400,114720},
	{59424,118016},
	{58752,117824},
	{58272,117536},
	{57760,117792},
	{57344,118304},
	{56768,118592},
	{56704,119168},
	{56704,119808},
	{56288,119808},
	{55840,119936},
	{55776,119040},
	{55392,118688},
	{54976,118816},
	{54656,118144},
	{54208,118592},
	{53728,119104},
	{53664,119616},
	{53344,120064},
	{53472,120768},
	{52992,121280},
	{53408,121984},
	{53120,122464},
	{53536,123136},
	{54176,123168},
	{54208,123904},
	{54560,124288},
	{54880,124672},
	{60256,123200},
	{60672,123584},
	{60384,124288},
	{60544,124768},
	{60064,124544},
	{59296,124448},
	{58912,124480},
	{58336,125056},
	{58272,125920},
	{58240,126720},
	{57568,126112},
	{57472,125504},
	{57024,124992},
	{57312,124576},
	{57408,124192},
	{57120,124768},
	{57184,125216},
	{59808,125312},
	{59616,125792},
	{59264,125600},
	{60992,125536},
	{61376,125600},
	{61504,126208},
	{62080,126176},
	{62176,126752},
	{62368,127040},
	{62720,126784},
	{62624,126112},
	{63232,126112},
	{63488,126336},
	{63840,126080},
	{63616,125760},
	{63968,125312},
	{64160,125184},
	{64544,125024},
	{65248,125216},
	{65952,124896},
	{66432,124384},
	{66240,123712},
	{60480,126048},
	{60192,126656},
	{60384,127456},
	{60096,127936},
	{60384,128672},
	{60320,129152},
	{60800,129536},
	{60320,130240},
	{60640,130528},
	{60672,131072},
	{61024,131264},
	{61344,131936},
	{61600,132448},
	{61984,132288},
	{61984,132960},
	{62368,132896},
	{62688,132288},
	{63040,132160},
	{63360,131680},
	{63712,131456},
	{63968,130944},
	{64416,131328},
	{64672,131168},
	{65152,131424},
	{65568,131424},
	{66112,131840},
	{66272,132128},
	{65824,132640},
	{65600,133184},
	{65120,133312},
	{64896,133952},
	{64480,133984},
	{64512,134720},
	{64064,134272},
	{63616,133760},
	{63328,133888},
	{62976,134496},
	{62848,134720},
	{65120,135168},
	{65280,135424},
	{65504,135776},
	{65856,136192},
	{66272,136608},
	{66080,134656},
	{66528,134208},
	{66784,134752},
	{66912,135424},
	{67040,136032},
	{67040,136416},
	{66880,133760},
	{67200,134048},
	{67424,134304},
	{67008,132768},
	{64416,136384},
	{64544,137056},
	{64320,137632},
	{63840,137408},
	{63488,137536},
	{64800,138304},
	{64896,138784},
	{64288,139104},
	{64256,140032},
	{63392,136384},
	{63072,136320},
	{62912,136704},
	{62464,136704},
	{62080,136288},
	{61728,136800},
	{61536,136320},
	{61376,135744},
	{61568,135264},
	{61312,135008},
	{61504,134400},
	{60992,134080},
	{60896,133696},
	{60352,132832},
	{59936,132608},
	{59744,133568},
	{59872,134272},
	{59552,134848},
	{59744,135456},
	{59520,136096},
	{59584,136704},
	{61152,137312},
	{60736,138016},
	{60512,138432},
	{60064,139008},
	{59680,139584},
	{59936,140416},
	{61504,139264},
	{61920,139168},
	{62240,138720},
	{61152,141024},
	{61312,141600},
	{60736,141888},
	{60352,142048},
	{60000,142112},
	{60672,142848},
	{62112,141568},
	{62208,142144},
	{62848,141536},
	{63552,140896},
	{63392,141504},
	{63168,140192},
	{63168,139808},
}
}
HOADANGTALK = "<color=green>%s<color> ®ang diÔn ra 'Sù KiÖn Hoa §¨ng', h·y nhanh ch©n tham gia.";
FILE_CAUHOI = "\\script\\event\\hoadang\\quest.lua";
function addnpccauhoi()
	local nSubWorldId = SubWorldID2Idx(2)
	if nSubWorldId < 0 then	--chua mo map, ngung ham`
	return end

	local nNpcIndex;
	for i = 1,getn(NPCPOS_HOADANG[2]) do
		nNpcIndex = AddNpc(1077, 1, nSubWorldId, NPCPOS_HOADANG[2][i][1], NPCPOS_HOADANG[2][i][2], 0, "Hoa ®¨ng", 0, 3);
		SetNpcScript(nNpcIndex, FILE_CAUHOI);
		SetNpcParam(nNpcIndex,1,i);	
	end;
	Msg2SubWorld(format(HOADANGTALK,GetMapName(2)));	
	for i = 1,SYS_MAX_PLAYER do
		PlayerIndex = i;
		SendNotification("","(Lo) <color=red>Th«ng b¸o: <color> <color=green>Hoa ®¨ng<color> xuÊt hiÖn t¹i Hoa s¬n c¶nh kû tr­êng <pic="..random(1,140).."> <pic="..random(1,140).."> !");
	end;
return end;

function delnpccauhoi()
	ClearMapNpcWithName(2,"Hoa ®¨ng");
end;